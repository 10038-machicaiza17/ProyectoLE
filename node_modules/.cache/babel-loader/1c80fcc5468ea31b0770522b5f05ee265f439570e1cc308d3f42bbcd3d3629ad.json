{"ast":null,"code":"var _jsxFileName = \"C:\\\\temp\\\\LyE\\\\proyecto\\\\templates\\\\frontend\\\\src\\\\landing-page\\\\components\\\\VideoRecorder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport Button from '@mui/material/Button';\nimport ButtonGroup from '@mui/material/ButtonGroup';\nimport Box from '@mui/material/Box';\nimport { styled } from '@mui/system';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledVideo = styled('video')({\n  width: '1100px',\n  height: '600px',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  maxWidth: '100%',\n  maxHeight: '100%',\n  border: '1px solid #ddd',\n  borderRadius: '5px'\n});\n_c = StyledVideo;\nconst StyledButtonGroup = styled(ButtonGroup)({\n  marginTop: '10px',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center'\n});\n_c2 = StyledButtonGroup;\nconst VideoRecorder = () => {\n  _s();\n  const videoRef = useRef(null);\n  const [recording, setRecording] = useState(false);\n  useEffect(() => {\n    const initializeCamera = async () => {\n      try {\n        // Acceder a la cámara y actualizar el video en tiempo real\n        const mediaStream = await navigator.mediaDevices.getUserMedia({\n          video: true\n        });\n        videoRef.current.srcObject = mediaStream;\n      } catch (error) {\n        console.error('Error initializing camera:', error);\n      }\n    };\n    initializeCamera();\n    return () => {\n      // Limpiar cualquier recurso o suscripción si es necesario\n    };\n  }, []); // Usar un array vacío para que se ejecute solo una vez al montar el componente\n\n  const showConfirmationAlert = async () => {\n    const result = await Swal.fire({\n      title: '¿Estás seguro de iniciar la grabación?',\n      text: 'No podrás revertir esto.',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Sí, estoy de acuerdo',\n      cancelButtonText: 'No, cancelar'\n    });\n    if (result.isConfirmed) {\n      startRecording();\n    }\n  };\n  const startRecording = async () => {\n    try {\n      await axios.post('http://localhost:5000/start_recording');\n      setRecording(true);\n    } catch (error) {\n      console.error('Error starting recording:', error);\n    }\n  };\n  const stopRecording = async () => {\n    try {\n      await axios.post('http://localhost:5000/stop_recording');\n      setRecording(false);\n    } catch (error) {\n      console.error('Error stopping recording:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(StyledVideo, {\n      ref: videoRef,\n      controls: true,\n      autoPlay: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledButtonGroup, {\n      size: \"small\",\n      \"aria-label\": \"Small button group\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: showConfirmationAlert,\n        disabled: recording,\n        children: \"Iniciar Grabaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: stopRecording,\n        disabled: !recording,\n        children: \"Detener Grabaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoRecorder, \"7Iwoc5EpueOoFHkHCETbdi/tX9A=\");\n_c3 = VideoRecorder;\nexport default VideoRecorder;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"StyledVideo\");\n$RefreshReg$(_c2, \"StyledButtonGroup\");\n$RefreshReg$(_c3, \"VideoRecorder\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Button","ButtonGroup","Box","styled","Swal","jsxDEV","_jsxDEV","StyledVideo","width","height","display","justifyContent","alignItems","maxWidth","maxHeight","border","borderRadius","_c","StyledButtonGroup","marginTop","_c2","VideoRecorder","_s","videoRef","recording","setRecording","initializeCamera","mediaStream","navigator","mediaDevices","getUserMedia","video","current","srcObject","error","console","showConfirmationAlert","result","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","isConfirmed","startRecording","post","stopRecording","children","ref","controls","autoPlay","fileName","_jsxFileName","lineNumber","columnNumber","size","onClick","disabled","_c3","$RefreshReg$"],"sources":["C:/temp/LyE/proyecto/templates/frontend/src/landing-page/components/VideoRecorder.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport Button from '@mui/material/Button';\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\nimport Box from '@mui/material/Box';\r\nimport { styled } from '@mui/system';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst StyledVideo = styled('video')({\r\n  width: '1100px',\r\n  height: '600px',\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  maxWidth: '100%',\r\n  maxHeight: '100%',\r\n  border: '1px solid #ddd',\r\n  borderRadius: '5px',\r\n});\r\n\r\nconst StyledButtonGroup = styled(ButtonGroup)({\r\n  marginTop: '10px',\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n});\r\n\r\nconst VideoRecorder = () => {\r\n  const videoRef = useRef(null);\r\n  const [recording, setRecording] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initializeCamera = async () => {\r\n      try {\r\n        // Acceder a la cámara y actualizar el video en tiempo real\r\n        const mediaStream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n        videoRef.current.srcObject = mediaStream;\r\n      } catch (error) {\r\n        console.error('Error initializing camera:', error);\r\n      }\r\n    };\r\n\r\n    initializeCamera();\r\n\r\n    return () => {\r\n      // Limpiar cualquier recurso o suscripción si es necesario\r\n    };\r\n  }, []); // Usar un array vacío para que se ejecute solo una vez al montar el componente\r\n\r\n  const showConfirmationAlert = async () => {\r\n    const result = await Swal.fire({\r\n      title: '¿Estás seguro de iniciar la grabación?',\r\n      text: 'No podrás revertir esto.',\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Sí, estoy de acuerdo',\r\n      cancelButtonText: 'No, cancelar',\r\n    });\r\n\r\n    if (result.isConfirmed) {\r\n      startRecording();\r\n    }\r\n  };\r\n\r\n  const startRecording = async () => {\r\n    try {\r\n      await axios.post('http://localhost:5000/start_recording');\r\n      setRecording(true);\r\n    } catch (error) {\r\n      console.error('Error starting recording:', error);\r\n    }\r\n  };\r\n\r\n  const stopRecording = async () => {\r\n    try {\r\n      await axios.post('http://localhost:5000/stop_recording');\r\n      setRecording(false);\r\n    } catch (error) {\r\n      console.error('Error stopping recording:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <StyledVideo ref={videoRef} controls autoPlay />\r\n      <StyledButtonGroup size=\"small\" aria-label=\"Small button group\">\r\n        <Button onClick={showConfirmationAlert} disabled={recording}>\r\n          Iniciar Grabación\r\n        </Button>\r\n        <Button onClick={stopRecording} disabled={!recording}>\r\n          Detener Grabación\r\n        </Button>\r\n      </StyledButtonGroup>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default VideoRecorder;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}